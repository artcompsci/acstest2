<HEAD>
<TITLE>The Kali Code home page</TITLE>
<meta http-equiv="Pragma" content="no-cache">
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#EEFFEE" BACKGROUND=""
      LINK="#0000CC" ALINK="#CCCCCC" VLINK="#000099">


<table CELLSPACING=2 CELLPADDING=5 WIDTH="100%" NOSAVE >
<tr VALIGN=TOP NOSAVE>


<td ALIGN=CENTER  NOSAVE>
      <IMG src=../img/acstitle-s2.gif> 
</font>
</td>

<td NOSAVE>

<center><h1>
The Art of Computational Science
</h1></center>

<hr>
<center><h3>
The Kali Code for Dense Stellar Systems
</h3></center>
<hr>
<br>

</td>
<td ALIGN=CENTER  NOSAVE><img SRC="../img/square_M80.jpg">
</td>
</tr>

</table>

<table cellpadding=5 width="100%">
<tr>
<td align=left> 
&#169;  2003-2005 <a href=http://www.ids.ias.edu/~piet/>Piet Hut</a> and
<a href=http://jun.artcompsci.org>Jun Makino</a>
</td>
<td>
</td>
<td align=right>
Back to <a href="../index.html">ACS home page</A>.
</td>
</tr>
</table>

<hr>

The <i>Kali</i> project is directed toward the construction of a
laboratory for dense stellar systems, such as star clusters, star
forming regions, and galactic nuclei containing one or more massive
black holes.  The presentation is centered around dialogues between two
astrophysicists, Alice and Bob, who are in the process of constructing the
Kali code from scratch.  We are currently in a start-up phase, as described
in our <a href="first-five-year-plan.html">first five-year plan</a>.
<p>
Below we list the available volumes.  By clicking on the title, you
will be redirected to the respective web pages.  If you prefer to read
each volume in postscript or pdf format, click on the word "PS" or
"PDF" listed after each title.
<ul>
<li>
<a href=vol/vision/doc/files/_/_title_ok.html>0.
A Vision:
Dealing with Dense Stellar Systems
</a>
&nbsp;&nbsp;
(<a href=vol/vision/volume0.ps.gz>PS</a>
&nbsp;/&nbsp;&nbsp;<a href=vol/vision/volume0.pdf>PDF</a>)
<!--
&nbsp; (also in <a href=vol/vision/doc/index.html>rdoc format</a>)
-->
<ul>
<li>
in which Alice and Bob discuss the growing need for simulations
of dense stellar systems.
<li>
They wonder how to give students hands-on access to this exciting area
of astrophysics.
<li>
Alice is ready to build some toy models; Bob remains skeptical whether
that's really useful.
</ul>

<li>
<a href=vol/two_body_problem_1/doc/files/_/_title_ok.html>1.
The 2-Body Problem:
Forward Euler, in Ruby
</a>
&nbsp;&nbsp;
(<a href=vol/two_body_problem_1/volume1.ps.gz>PS</a>
&nbsp;/&nbsp;&nbsp;<a href=vol/two_body_problem_1/volume1.pdf>PDF</a>)
<ul>
<li>
in which Alice and Bob explore the scripting language Ruby, as an
alternative to Fortran or C++.
<li> they use Ruby to define a vector class and build a very simple
2-body integrator.
<li>
Bob is still skeptical, but he is also getting more curious.
</ul>

<li>
<a href=vol/two_body_problem_2/doc/files/_/_title_ok.html>2.
The 2-Body Problem:
Higher-Order Integrators
</a>
&nbsp;&nbsp;
(<a href=vol/two_body_problem_2/volume2.ps.gz>PS</a>
&nbsp;/&nbsp;&nbsp;<a href=vol/two_body_problem_2/volume2.pdf>PDF</a>)
<ul>
<li>
in which Alice and Bob play with higher-order integrators.
<li>
Bob gets carried away, implementing one integrator after another, up to
eighth order.
<li>
They wind up with a Hermite scheme, multi-step methods, and
symplectic integrators.
</ul>

<li>
<a href=vol/runge_kutta/doc/files/_/_title_ok.html>3.
Integration Algorithms:
Exploring the Runge-Kutta Landscape
</a>
&nbsp;&nbsp;
(<a href=vol/runge_kutta/volume3.ps.gz>PS</a>
&nbsp;/&nbsp;&nbsp;<a href=vol/runge_kutta/volume3.pdf>PDF</a>)
<ul>
<li>
in which Alice and Bob reconstruct the most basic notions of integrators
<li>
They see the leapfrog scheme in a new light, as a version of a
Runge-Kutta-Nystrom scheme.
<li>
They find whole new families of low-order integrators they
hadn't seen in textbooks.
</ul>

<li>
<a href=vol/n_body_problem/doc/files/_/_title_ok.html>4.
The N-Body Problem:
From Leapfrog to Runge-Kutta
</a>
&nbsp;&nbsp;
(<a href=vol/n_body_problem/volume4.ps.gz>PS</a>
&nbsp;/&nbsp;&nbsp;<a href=vol/n_body_problem/volume4.pdf>PDF</a>)
<ul>
<li>
in which Alice and Bob construct various N-body codes, up to fourth order,
with fixed time steps.
<li>
They strongly feel the need for a better user interface and I/O format,
higher speed and graphics.
<li>
After some debate, they decide to provide a robust foundation
for their virtual lab.
</ul>

<li>
<a href=vol/documentation/doc/files/_/_title_ok.html>5.
Documentation:
Acsdoc
</a>
&nbsp;&nbsp;
(<a href=vol/documentation/volume5.ps.gz>PS</a>
&nbsp;/&nbsp;&nbsp;<a href=vol/documentation/volume5.pdf>PDF</a>)
<!--
&nbsp; (also in <a href=vol/documentation/doc/index.html>rdoc format</a>)
-->
&nbsp; &nbsp; <i>[incomplete]</i>
<ul>
<li>
in which Alice and Bob settle on a standard way to document their
lab building process.
<li>
They hit upon the `open knowledge' concept
as an extension of the notion of `open source.'
<li>
This is the first step, in laying their lab foundation.
</ul>

<li>
<a href=vol/command_line/doc/files/_/_title_ok.html>6a.
User Interface:
Command Line Arguments I
</a>
&nbsp;&nbsp;
(<a href=vol/command_line/volume6a.ps.gz>PS</a>
&nbsp;/&nbsp;&nbsp;<a href=vol/command_line/volume6a.pdf>PDF</a>)
<ul>
<li>
in which Alice and Bob design a flexible interface, including command line
options.
<li>
In the process, they add a detailed help facility and general documentation
option.
<li>
This is the second step, in laying their lab foundation.
</ul>

<li>
<a href=vol/command_line_b/doc/files/_/_title_ok.html>6b.
User Interface:
Command Line Arguments II
</a>
&nbsp;&nbsp;
(<a href=vol/command_line_b/volume6b.ps.gz>PS</a>
&nbsp;/&nbsp;&nbsp;<a href=vol/command_line_b/volume6b.pdf>PDF</a>)
&nbsp; &nbsp; <i>[in preparation]</i>
<ul>
<li>
in which Alice and Bob extend their command line options interface.
<li>
They improve the help facility, turning it even more into an on-line
manual.
<li>
They allow more detailed handling of default vs. user-provided data.
</ul>

<li>
<a href=vol/code_management/doc/files/_/_title_ok.html>7.
Code Management:
Libraries, Versions, and Compatibility
</a>
&nbsp;&nbsp;
(<a href=vol/code_management/volume7.ps.gz>PS</a>
&nbsp;/&nbsp;&nbsp;<a href=vol/code_management/volume7.pdf>PDF</a>)
&nbsp; &nbsp; <i>[incomplete]</i>
<ul>
<li>
in which Alice and Bob wonder how to organize different versions of their
codes into libraries.
<li>
They design a flexible mechanism with a default based on a
time stamp in each code.
<li>
This is the third step, in laying their lab foundation.
</ul>

<li>
<a href=vol/acs_data_format/doc/files/_/_title_ok.html>8.
ACS Data Format:
Self-Describing Data Files
</a>
&nbsp;&nbsp;
(<a href=vol/acs_data_format/volume8.ps.gz>PS</a>
&nbsp;/&nbsp;&nbsp;<a href=vol/acs_data_format/volume8.pdf>PDF</a>)
&nbsp; &nbsp; <i>[incomplete]</i>
<ul>
<li>
in which Alice and Bob tackle the problem of unstructured piles of data.
<li>
They design a structured ACS data format, including a story mechanism for
self-describing data.
<li>
This is the fourth step, in laying their lab foundation.
</ul>

<li>
<a href=vol/graphics/doc/files/_/_title_ok.html>9.
Figures:
Virtual Plotting
</a>
&nbsp;&nbsp;
(<a href=vol/graphics/volume9.ps.gz>PS</a>
&nbsp;/&nbsp;&nbsp;<a href=vol/graphics/volume9.pdf>PDF</a>)
&nbsp; &nbsp; <i>[in preparation]</i>
<ul>
<li>
in which Alice and Bob start making graphs, to display physical quantities
for their experiments.
<li>
They decide to construct a uniform interface for different plotting packages.
<li>
This is the fifth step, in laying their lab foundation.
</ul>

<li>
<a href=vol/visualization/doc/files/_/_title_ok.html>10.
Visualization:
Acsvis
</a>
&nbsp;&nbsp;
(<a href=vol/visualization/volume9.ps.gz>PS</a>
&nbsp;/&nbsp;&nbsp;<a href=vol/visualization/volume9.pdf>PDF</a>)
&nbsp; &nbsp; <i>[in preparation]</i>
<ul>
<li>
in which Alice and Bob visualize the dance of their particles,
as a movie, with various controls.
<li>
They also start incorporating interactive features, such as particle
tagging and a script interface.
<li>
This is the sixth and final step, in laying their lab foundation.
</ul>

<li>
<a href=vol/plummer/doc/files/_/_title_ok.html>11.
Initial Conditions:
Plummer's Model
</a>
&nbsp;&nbsp;
(<a href=vol/plummer/volume11.ps.gz>PS</a>
&nbsp;/&nbsp;&nbsp;<a href=vol/plummer/volume11.pdf>PDF</a>)
<ul>
<li>
in which Alice and Bob create a standard star cluster model
for starting N-body simulations.
<li>
They apply rejection techniques and other numerical methods.
<li>
In the process, they learn a lot about potential-density pairs, phase
space, dimensional analysis.
</ul>

<li>
<a href=vol/symplectic/doc/files/_/_title_ok.html>12.
Integration Algorithms:
Symplectic Schemes
</a>
&nbsp;&nbsp;
(<a href=vol/symplectic/volume12.ps.gz>PS</a>
&nbsp;/&nbsp;&nbsp;<a href=vol/symplectic/volume12.pdf>PDF</a>)
&nbsp; &nbsp; <i>[in preparation]</i>
<ul>
<li>
in which Alice and Bob explore symplectic integration schemes.
<li>
They start with a surprising algorithm by Chin and Chen.
<li>
They then delve deeper into the theory behind symplecticity.
</ul>

<li>
<a href=vol/shared_timesteps/doc/files/_/_title_ok.html>13.
Shared Time Steps:
Phase Space Diagnostics
</a>
&nbsp;&nbsp;
(<a href=vol/shared_timesteps/volume13.ps.gz>PS</a>
&nbsp;/&nbsp;&nbsp;<a href=vol/shared_timesteps/volume13.pdf>PDF</a>)
<ul>
<li>
in which Alice and Bob construct their first adaptive time step code.
<li>
They implement all integration schemes developed earlier in their
two-body codes.
<li>
They write a tool to measure distance between N-body snapshots
in 6N-dimensional phase space.
</ul>

<li>
<a href=vol/speedup/doc/files/_/_title_ok.html>14.
A Matter of Speed:
C Modules for Ruby
</a>
&nbsp;&nbsp;
(<a href=vol/speedup/volume14.ps.gz>PS</a>
&nbsp;/&nbsp;&nbsp;<a href=vol/speedup/volume14.pdf>PDF</a>)
&nbsp; &nbsp; <i>[incomplete]</i>
<ul>
<li>
in which Alice and Bob tackle the slow speed of Ruby, as a scripting language.
<li>
They achieve good speedup, in several different ways that are easy to
implement.
<li>
They combine their speedup with tricks to speed up assembly code on standard
microprocessors.
</ul>

<li>
<a href=vol/indiv_timesteps_1/doc/files/_/_title_ok.html>15.
Individual Time Steps:
A Four-Dimensional View
</a>
&nbsp;&nbsp;
(<a href=vol/indiv_timesteps_1/volume15.ps.gz>PS</a>
&nbsp;/&nbsp;&nbsp;<a href=vol/indiv_timesteps_1/volume15.pdf>PDF</a>)
<ul>
<li>
in which Alice and Bob construct their first individual time step code.
<li>
They switch to a four-dimensional viewpoint, for an N-worldline code
rather than an N-body code.
<li>
They separate orbit integration from I/O, guaranteeing fully accurate
restarts and diagnostic reports.
</ul>

<li>
<a href=vol/indiv_timesteps_2/doc/files/_/_title_ok.html>16.
Individual Time Steps:
Individual Integration Schemes
</a>
&nbsp;&nbsp;
(<a href=vol/indiv_timesteps_2/volume16.ps.gz>PS</a>
&nbsp;/&nbsp;&nbsp;<a href=vol/indiv_timesteps_2/volume16.pdf>PDF</a>)
&nbsp; &nbsp; <i>[in preparation]</i>
<ul>
<li>
in which Alice and Bob add various integrators to their individual
time step code.
<li>
In addition to Hermite, leapfrog, and forward Euler they implement a
version of Aarseth's scheme.
<li>
In doing so, they allow each particle to be integrated using its own
individual choice of algorithm.
</ul>

<li>
<a href=vol/indiv_timesteps_3/doc/files/_/_title_ok.html>17.
Individual Time Steps:
Arbitrary Order Integrators
</a>
&nbsp;&nbsp;
(<a href=vol/indiv_timesteps_3/volume17.ps.gz>PS</a>
&nbsp;/&nbsp;&nbsp;<a href=vol/indiv_timesteps_3/volume17.pdf>PDF</a>)
&nbsp; &nbsp; <i>[in preparation]</i>
<ul>
<li>
in which Alice and Bob continue to modularize their four-dimensional
N-worldline code.
<li>
They separate integration schemes from force calculations, scheduling
and administrative aspects.
<li>
They implement integration schemes for arbitrarily high order.
</ul>

<li>
<a href=vol/lab_tools/doc/files/_/_title_ok.html>18.
N-Body Experiments:
Orchestrating and Analyzing Multiple Runs
</a>
&nbsp;&nbsp;
(<a href=vol/lab_tools/volume18.ps.gz>PS</a>
&nbsp;/&nbsp;&nbsp;<a href=vol/lab_tools/volume18.pdf>PDF</a>)
&nbsp; &nbsp; <i>[in preparation]</i>
<ul>
<li>
in which Alice and Bob find the time of first binary formation,
starting with a Plummer model.
<li>
They write tools to orchestrate the automatic performance and analysis
of many runs.
<li>
They produce a graph of first binary formation as a function of N.
</ul>

<li>
<a href=vol/multiple_runs/doc/files/_/_title_ok.html>19.
Laboratory Tools:
Reporting and Visualizing Physical Processes
</a>
&nbsp;&nbsp;
(<a href=vol/multiple_runs/volume19.ps.gz>PS</a>
&nbsp;/&nbsp;&nbsp;<a href=vol/multiple_runs/volume19.pdf>PDF</a>)
&nbsp; &nbsp; <i>[in preparation]</i>
<ul>
<li>
in which Alice and Bob write visualize the evolution of
density and temperature in cluster models.
<li>
They write little tools to report Lagrangian radii, core radii, and
information about escapers.
<li>
They create phase space diagnostic tools, to visualize the
evolution of the distribution function.
</ul>

<li>
<a href=vol/lab_assistant/doc/files/_/_title_ok.html>20.
Laboratory Experiments:
Simulating a Lab Assistant
</a>
&nbsp;&nbsp;
(<a href=vol/lab_assistant/volume20.ps.gz>PS</a>
&nbsp;/&nbsp;&nbsp;<a href=vol/lab_assistant/volume20.pdf>PDF</a>)
&nbsp; &nbsp; <i>[in preparation]</i>
<ul>
<li>
in which Alice and Bob write a
program to characterize an N-body snapshot.
<li>
They have fun playing with concepts from artificial intelligence.
<li>
They realize how essential it is to have good tools for data reduction
of piles of experimental runs.
</ul>

<li>
<a href=vol/binary_trees/doc/files/_/_title_ok.html>21.
Decoupling Local Motions:
Binary Trees
</a>
&nbsp;&nbsp;
(<a href=vol/binary_trees/volume21.ps.gz>PS</a>
&nbsp;/&nbsp;&nbsp;<a href=vol/binary_trees/volume21.pdf>PDF</a>)
&nbsp; &nbsp; <i>[in preparation]</i>
<ul>
<li>
in which Alice and Bob introduce the Kali code,
to handle close encounters and binary formation.
<li>
They introduce local coordinate systems, automatically and adaptively
generated by the code.
<li>
They introduce binary trees to allow recursive layers of
local coordinate refinement.
</ul>

<li>
<a href=vol/black_hole_trees/doc/files/_/_title_ok.html>22.
Decoupling Local Motions:
Large Mass Ratios
</a>
&nbsp;&nbsp;
(<a href=vol/black_hole_trees/volume22.ps.gz>PS</a>
&nbsp;/&nbsp;&nbsp;<a href=vol/black_hole_trees/volume22.pdf>PDF</a>)
&nbsp; &nbsp; <i>[in preparation]</i>
<ul>
<li>
in which Alice and Bob extend their local treatment to
systems with supermassive black holes.
<li>
They introduce coordinates for stars to circle
around black holes like planets around the sun.
<li>
They face efficiency issues, and solve those by staggering force
calculations along tree branches.
</ul>

<li>
<a href=vol/polytropes/doc/files/_/_title_ok.html>23.
Initial Conditions:
Polytropes and King Models
</a>
&nbsp;&nbsp;
(<a href=vol/polytropes/volume23.ps.gz>PS</a>
&nbsp;/&nbsp;&nbsp;<a href=vol/polytropes/volume23.pdf>PDF</a>)
&nbsp; &nbsp; <i>[in preparation]</i>
<ul>
<li>
in which Alice and Bob develop tools for constructing whole families
of initial star cluster models.
<li>
They generalize the Plummer model to create arbitrary polytropes.
<li>
They introduce the King family of models with truncated isothermal
energy distribution functions.
</ul>

<li>
<a href=vol/symmetric_timesteps/doc/files/_/_title_ok.html>24.
Time-Symmetric Time Steps:
Exploring Various Approaches
</a>
&nbsp;&nbsp;
(<a href=vol/symmetric_timesteps/volume24.ps.gz>PS</a>
&nbsp;/&nbsp;&nbsp;<a href=vol/symmetric_timesteps/volume24.pdf>PDF</a>)
&nbsp; &nbsp; <i>[in preparation]</i>
<ul>
<li>
in which Alice and Bob try to impose time symmetry on
otherwise non-time-symmetric algorithms.
<li>
They start by adapting their time step criterion to become automatically
time symmetric.
<li>
They also explore the use of iteration, to let each integration step
converge to time symmetry.
</ul>

<li>
<a href=vol/block_symmetric/doc/files/_/_title_ok.html>25.
Time-Symmetric Time Steps:
Block Time Steps
</a>
&nbsp;&nbsp;
(<a href=vol/block_symmetric/volume25.ps.gz>PS</a>
&nbsp;/&nbsp;&nbsp;<a href=vol/block_symmetric/volume25.pdf>PDF</a>)
&nbsp; &nbsp; <i>[in preparation]</i>
<ul>
<li>
in which Alice and Bob introduce block time steps, as integer powers
of two.
<li>
They encounter various problems in their attempts to impose time
symmetry on block time steps.
<li>
They overcome these problems by introducing novel ways to extend the
notion of block time steps.
</ul>

<li>
<a href=vol/treecode/doc/files/_/_title_ok.html>26.
The Barnes-Hut Tree Code:
A Simple Version
</a>
&nbsp;&nbsp;
(<a href=vol/treecode/volume26.ps.gz>PS</a>
&nbsp;/&nbsp;&nbsp;<a href=vol/treecode/volume26.pdf>PDF</a>)
&nbsp; &nbsp; <i>[in preparation]</i>
<ul>
<li>
in which Alice and Bob write a simple version of a Barnes-Hut tree code.
<li>
In addition, they write a bunch of short test methods, to check the
dynamical integrity of the tree.
<li>
They are surprised to see how short and natural their code looks, in
comparison with a C version.
</ul>

</ul>

<hr>

Back to the <a href="../index.html">ACS home page</A>.

<hr>
<hr>

</BODY>



